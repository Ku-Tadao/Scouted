const T=document.getElementById("app-data"),x=T?JSON.parse(T.dataset.payload||"{}"):{},f={lbRegion:"na1",lbTier:"challenger"},L=t=>(t||"").toString().toLowerCase().trim(),r=t=>String(t??"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function k(t){document.documentElement.setAttribute("data-theme",t),localStorage.setItem("sc-theme",t);const e=document.getElementById("themeToggle");e&&(e.textContent=t==="dark"?"Light Mode":"Dark Mode")}function H(){const t=localStorage.getItem("sc-theme");if(t){k(t);return}k(window.matchMedia?.("(prefers-color-scheme:dark)").matches?"dark":"light")}function P(t){document.querySelectorAll(".nav-link").forEach(e=>e.classList.toggle("active",e.dataset.section===t))}function q(t){document.querySelectorAll("section.content").forEach(i=>{i.style.display="none"});const e=document.getElementById(t);e&&(e.style.display="",P(t))}function z(t){const e=L(t);document.querySelectorAll(".champ-card").forEach(i=>{const s=i.dataset.champName||"";i.style.display=!e||s.includes(e)?"":"none"})}function N(t){document.querySelectorAll(".cost-filter").forEach(e=>e.classList.toggle("active",e.dataset.cost===t)),document.querySelectorAll(".champ-cost-group").forEach(e=>{t==="all"?e.style.display="":e.style.display=e.dataset.costGroup===t?"":"none"})}function O(t){const e=L(t);document.querySelectorAll(".item-card").forEach(i=>{const s=i.dataset.itemName||"";i.style.display=!e||s.includes(e)?"":"none"})}function U(t){document.querySelectorAll(".item-cat-filter").forEach(e=>e.classList.toggle("active",e.dataset.cat===t)),document.querySelectorAll(".item-section").forEach(e=>{t==="all"?e.style.display="":e.style.display=e.dataset.itemCat===t?"":"none"})}function F(t){const e=L(t);document.querySelectorAll(".trait-card").forEach(i=>{const s=i.dataset.traitName||"";i.style.display=!e||s.includes(e)?"":"none"})}function j(t){const e=L(t);document.querySelectorAll(".augment-card").forEach(i=>{const s=i.dataset.augName||"";i.style.display=!e||s.includes(e)?"":"none"})}function G(t){document.querySelectorAll(".aug-tier-filter").forEach(e=>e.classList.toggle("active",e.dataset.tier===t)),document.querySelectorAll(".augment-card").forEach(e=>{t==="all"?e.style.display="":e.style.display=e.dataset.augTier===t?"":"none"})}function J(t){return x.champions?.find(e=>e.championId===t)}function R(t){const e=J(t);if(!e)return;const i=document.getElementById("champModal"),s=document.getElementById("modalChampDetails");s.innerHTML="",i.classList.remove("hidden"),i.setAttribute("aria-hidden","false");const c={1:"var(--cost-1)",2:"var(--cost-2)",3:"var(--cost-3)",4:"var(--cost-4)",5:"var(--cost-5)"},y={1:"var(--cost-1-bg)",2:"var(--cost-2-bg)",3:"var(--cost-3-bg)",4:"var(--cost-4-bg)",5:"var(--cost-5-bg)"},l=c[e.cost]||"var(--brand)",m=y[e.cost]||"var(--brand-subtle)";let n="";n+='<div class="cd-header">',n+='<img class="cd-portrait" src="'+(e.tileIcon||e.icon)+'" alt="'+r(e.name)+'" style="border:3px solid '+l+'" />',n+='<div class="cd-info">',n+='<h2 class="cd-name" style="color:'+l+'">'+r(e.name)+"</h2>",n+='<span class="cd-cost-pill" style="background:'+m+";color:"+l+";border:1px solid color-mix(in srgb,"+l+' 25%,transparent)">'+e.cost+"-Cost</span>",n+='<div class="cd-traits-list">',e.traits.forEach(d=>{n+='<span class="cd-trait-tag">'+r(d)+"</span>"}),n+="</div>",n+="</div></div>";const o=e.stats;if(n+='<div class="cd-stats-grid">',n+=p("HP",o.hp[0]+" / "+o.hp[1]+" / "+o.hp[2]),n+=p("Mana",o.initialMana+" / "+o.mana),n+=p("Damage",o.damage[0]+" / "+o.damage[1]+" / "+o.damage[2]),n+=p("Atk Spd",o.attackSpeed.toFixed(2)),n+=p("Armor",o.armor),n+=p("MR",o.magicResist),n+=p("Range",o.range),n+=p("Crit",(o.critChance*100).toFixed(0)+"%"),n+="</div>",e.ability&&e.ability.name){if(n+='<div class="cd-ability-section"><h4>Ability</h4>',n+='<div class="cd-ability-box">',n+='<div class="cd-ability-header">',e.ability.icon&&(n+='<img class="cd-ability-icon" src="'+e.ability.icon+'" alt="'+r(e.ability.name)+'" loading="lazy" />'),n+='<span class="cd-ability-name">'+r(e.ability.name)+"</span>",n+="</div>",e.ability.desc){let d=e.ability.desc;d=d.replace(/@[^@]+@/g,"?"),d=d.replace(/<[^>]*>/g,""),n+='<p class="cd-ability-desc">'+d+"</p>"}n+="</div></div>"}s.innerHTML=n}function p(t,e){return'<div class="cd-stat"><div class="cd-stat-value">'+r(String(e))+'</div><div class="cd-stat-label">'+r(t)+"</div></div>"}function v(){const t=document.getElementById("champModal");t.classList.add("hidden"),t.setAttribute("aria-hidden","true")}function K(t){return x.items?.find(e=>e.uniqueId===t)}function D(t){const e=K(t);if(!e)return;const i=document.getElementById("itemModal"),s=document.getElementById("modalItemDetails");s.innerHTML="",i.classList.remove("hidden"),i.setAttribute("aria-hidden","false");let c='<div style="display:flex;align-items:center;gap:1rem;margin-bottom:1rem">';e.icon&&(c+='<img src="'+e.icon+'" alt="" style="width:64px;height:64px;border-radius:10px;border:2px solid var(--border)" />'),c+='<div><h3 style="margin:0;font-family:Exo 2,system-ui;text-transform:uppercase;letter-spacing:.03em">'+r(e.name)+"</h3>";const l={component:"Component",completed:"Completed",emblem:"Emblem",artifact:"Artifact",radiant:"Radiant",support:"Support",other:"Item"}[e.category]||"Item";if(c+='<span style="font-size:.75rem;color:var(--muted);text-transform:uppercase;font-weight:600">'+l+"</span>",c+="</div></div>",e.desc){let n=e.desc.replace(/<[^>]*>/g,"").replace(/@[^@]+@/g,"?");c+='<p style="color:var(--muted);font-size:.9rem;line-height:1.6">'+n+"</p>"}const m=Object.keys(e.effects||{});m.length&&(c+='<div style="display:flex;flex-wrap:wrap;gap:.4rem;margin-top:.75rem">',m.forEach(n=>{c+='<span style="font-size:.72rem;padding:.15rem .4rem;border-radius:6px;background:var(--surface-strong);color:var(--brand);font-weight:600;border:1px solid var(--border)">'+r(n)+": "+r(String(e.effects[n]))+"</span>"}),c+="</div>"),e.from&&e.from.length&&(c+='<div style="margin-top:1rem"><span style="font-size:.72rem;color:var(--muted);text-transform:uppercase;font-weight:700;letter-spacing:.04em">Recipe</span>',c+='<div style="display:flex;gap:.5rem;margin-top:.35rem">',e.from.forEach(n=>{const o=x.items?.find(d=>d.uniqueId===n);o&&(c+='<div style="display:flex;align-items:center;gap:.3rem;padding:.25rem .5rem;border-radius:8px;background:var(--surface-strong);border:1px solid var(--border)">',o.icon&&(c+='<img src="'+o.icon+'" alt="" style="width:24px;height:24px;border-radius:4px" />'),c+='<span style="font-size:.75rem;font-weight:600">'+r(o.name)+"</span></div>")}),c+="</div></div>"),s.innerHTML=c}function E(){const t=document.getElementById("itemModal");t.classList.add("hidden"),t.setAttribute("aria-hidden","true")}function I(t){const e=document.getElementById("playerModal");if(!e)return;e.classList.remove("hidden");const i=document.getElementById("playerInput");i&&t&&(i.value=t),i&&i.focus()}function b(){const t=document.getElementById("playerModal");if(!t)return;t.classList.add("hidden");const e=document.getElementById("playerSearchResults"),i=document.getElementById("playerProfile");e&&(e.innerHTML=""),i&&(i.innerHTML="",i.classList.add("hidden"))}function M(){const t=document.getElementById("ovSearch");if(!t)return;const e=t.value.trim();e&&I(e)}function Q(){document.querySelectorAll(".nav-link").forEach(a=>a.addEventListener("click",()=>q(a.dataset.section))),document.querySelectorAll(".ql-card, .ov-stat").forEach(a=>a.addEventListener("click",()=>{a.dataset.section&&q(a.dataset.section)}));const t=document.getElementById("champSearch");t&&t.addEventListener("input",a=>z(a.target.value)),document.querySelectorAll(".cost-filter").forEach(a=>a.addEventListener("click",()=>N(a.dataset.cost))),document.querySelectorAll(".champ-card").forEach(a=>a.addEventListener("click",()=>{a.dataset.champId&&R(a.dataset.champId)}));const e=document.getElementById("itemSearch");e&&e.addEventListener("input",a=>O(a.target.value)),document.querySelectorAll(".item-cat-filter").forEach(a=>a.addEventListener("click",()=>U(a.dataset.cat))),document.querySelectorAll(".item-card").forEach(a=>a.addEventListener("click",()=>{a.dataset.itemId&&D(a.dataset.itemId)}));const i=document.getElementById("traitSearch");i&&i.addEventListener("input",a=>F(a.target.value));const s=document.getElementById("augmentSearch");s&&s.addEventListener("input",a=>j(a.target.value)),document.querySelectorAll(".aug-tier-filter").forEach(a=>a.addEventListener("click",()=>G(a.dataset.tier)));const c=document.getElementById("ovSearch");c&&c.addEventListener("keydown",a=>{a.key==="Enter"&&M()});const y=document.getElementById("ovSearchBtn");y&&y.addEventListener("click",M);const l=document.getElementById("closeModalBtn");l&&l.addEventListener("click",v);const m=document.getElementById("champModal");m&&m.addEventListener("click",a=>{a.target===m&&v()});const n=document.getElementById("closeItemModalBtn");n&&n.addEventListener("click",E);const o=document.getElementById("itemModal");o&&o.addEventListener("click",a=>{a.target===o&&E()});const d=document.getElementById("playerModalClose");d&&d.addEventListener("click",b);const S=document.getElementById("playerModal");S&&S.addEventListener("click",a=>{a.target===S&&b()}),document.addEventListener("keydown",a=>{a.key==="Escape"&&(v(),E(),b())});const w=document.getElementById("themeToggle");w&&w.addEventListener("click",()=>k(document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark"));const B=document.getElementById("productSwitcherBtn"),h=document.getElementById("productSwitcherDropdown");B&&h&&(B.addEventListener("click",a=>{a.stopPropagation(),h.classList.toggle("hidden")}),document.addEventListener("click",a=>{!h.contains(a.target)&&a.target!==B&&h.classList.add("hidden")}));const C=document.getElementById("headerSearchBtn"),g=document.getElementById("headerSearchInput"),A=document.getElementById("headerSearch");C&&C.addEventListener("click",()=>{if(!A.classList.contains("open")){A.classList.add("open"),g.focus();return}const a=g?g.value.trim():"";a&&I(a)}),g&&g.addEventListener("keydown",a=>{if(a.key==="Enter"){const u=g.value.trim();u&&I(u)}a.key==="Escape"&&(A.classList.remove("open"),g.value="")}),document.querySelectorAll(".region-btn").forEach(a=>a.addEventListener("click",()=>{f.lbRegion=a.dataset.region,document.querySelectorAll(".region-btn").forEach(u=>u.classList.toggle("active",u.dataset.region===f.lbRegion)),document.getElementById("lbStatus").textContent="Region: "+f.lbRegion.toUpperCase()+" — Connect Riot API to load data."})),document.querySelectorAll(".lb-tier-tab").forEach(a=>a.addEventListener("click",()=>{f.lbTier=a.dataset.tier,document.querySelectorAll(".lb-tier-tab").forEach(u=>u.classList.toggle("active",u.dataset.tier===f.lbTier)),document.getElementById("lbStatus").textContent=f.lbTier.charAt(0).toUpperCase()+f.lbTier.slice(1)+" — "+f.lbRegion.toUpperCase()+" — Connect Riot API to load data."}))}document.addEventListener("DOMContentLoaded",()=>{"scrollRestoration"in history&&(history.scrollRestoration="manual"),window.scrollTo(0,0),H(),Q(),q("overview")});window.Scouted={showChampionDetails:R,closeChampModal:v,showItemDetails:D,closeItemModal:E,openPlayerModal:I,closePlayerModal:b,overviewSearch:M};
